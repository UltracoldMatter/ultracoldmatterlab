<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Temperature & Humidity Graph</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    body { background: #181818; color: #eee; }
    #myChart { background: #232323; border-radius: 12px; }
  </style>
</head>
<body>
  <canvas id="myChart" width="900" height="400"></canvas>
  <script>
    // Utility to mix white into a color (simple for demonstration)
    function mixWhite(rgb, alpha) {
      // rgb: "rgba(r,g,b,1)"
      return rgb.replace(/rgba\(([^)]+),1\)/, (m, vals) => {
        const [r, g, b] = vals.split(',').map(Number);
        // Mix with white
        const nr = Math.round(r + (255 - r) * alpha);
        const ng = Math.round(g + (255 - g) * alpha);
        const nb = Math.round(b + (255 - b) * alpha);
        return `rgba(${nr},${ng},${nb},1)`;
      });
    }

    // Example data
    const labels = [
      "2025-05-28 09:00", "2025-05-28 10:00", "2025-05-28 11:00", "2025-05-28 12:00"
    ];
    const temperatureData = [22.3, 23.1, 24.0, 25.2];
    const humidityData = [48, 50, 47, 49];

    // Color setup
    const tempColor = "rgba(255,99,132,1)"; // Example: red
    const humColor = "rgba(54,162,235,1)"; // Example: blue

    const ctx = document.getElementById('myChart').getContext('2d');
    const chart = new Chart(ctx, {
      type: 'line',
      data: {
        labels: labels,
        datasets: [
          {
            label: 'Temperature (Â°C)',
            data: temperatureData,
            borderColor: tempColor,
            backgroundColor: tempColor.replace('1)', '0.10)'), // subtle fill
            borderWidth: 2,
            borderDash: [],
            fill: false,
            tension: 0.2,
            pointRadius: 0, // Hide points by default
            pointHoverRadius: 6, // Show dot on hover
            pointHoverBackgroundColor: tempColor,
            pointHoverBorderColor: "#fff",
            order: 1
          },
          {
            label: 'Humidity (%)',
            data: humidityData,
            borderColor: mixWhite(humColor, 0.5), // 50% white-mixed color
            backgroundColor: 'rgba(255,255,255,0.05)',
            borderWidth: 2,
            borderDash: [6, 6], // Dotted line
            fill: false,
            tension: 0.2,
            pointRadius: 0,
            pointHoverRadius: 6,
            pointHoverBackgroundColor: mixWhite(humColor, 0.5),
            pointHoverBorderColor: "#fff",
            order: 2
          }
        ]
      },
      options: {
        responsive: true,
        interaction: {
          mode: 'index',    // or 'nearest'
          intersect: false  // Show tooltip anywhere along the x-axis
        },
        plugins: {
          tooltip: {
            enabled: true,
            mode: 'index',
            intersect: false
          },
          legend: {
            labels: {
              color: "#fff"
            }
          }
        },
        scales: {
          x: {
            type: 'category',
            ticks: { color: "#fff" },
            grid: { color: "rgba(255,255,255,0.05)" }
          },
          y: {
            beginAtZero: true,
            ticks: { color: "#fff" },
            grid: { color: "rgba(255,255,255,0.08)" }
          }
        }
      }
    });
  </script>
</body>
</html>
